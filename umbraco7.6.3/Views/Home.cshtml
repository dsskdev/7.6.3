@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{
    Layout = "Master.cshtml";
}
<!--Feature Section-->
<div class="row">
            <div class="col-md-8">
                @{
                    var image = Model.Content.GetPropertyValue<IPublishedContent>("pageImage");
                    if (image != null)
                    {
                        <img class="img-responsive" src="@image.GetPropertyValue("umbracoFile")" />
                    }
                }
            </div>
            <div class="col-md-4">
                <h1>Business Name or Tagline</h1>
                <p>This is a template that is great for small businesses. It doesn't have too much fancy flare to it, but it makes a great use of the standard Bootstrap core components. Feel free to use this template for any project you want!</p>
                <a class="btn btn-primary btn-lg" href="#">Call to Action!</a>
            </div>
        </div>
<div class="row">
    <div class="col-lg-12">
        <div class="well text-center">
            @Umbraco.Field("pageRTE")
        </div>
    </div>
</div>
<!-- News Section -->
<div class="row">
    <div class="col-lg-12">
        <h2 class="page-header">
            <a href="/news">
                <i class="fa fa-fw fa-newspaper-o"></i>News
            </a>
        </h2>
</div>
    @{
        var newsItems = Umbraco.TypedContentAtXPath("/root/home/branch/news");
        foreach (var newsItem in newsItems.Take(3))
        {
            <div class="col-xs-12 col-sm-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>@newsItem.Name</h4>
                    </div>
                    <div class="panel-body">
                        <p>@(Umbraco.Truncate(newsItem.GetPropertyValue("newsRTE").ToString(), 200, true))</p>
                        <a href="@newsItem.Url" class="btn btn-default">Learn More</a>
                    </div>
                </div>
            </div>
        }
        }
</div>
<!-- Events Section -->
<div class="row">
    <div class="col-lg-12">
        <h2 class="page-header">
            <a href="/events">
                <i class="fa fa-calendar-o"></i> Events
            </a>
        </h2>
    </div>
    @{
        var eventItems = Umbraco.TypedContentAtXPath("/root/home/branch/event");
        foreach (var eventItem in eventItems.Take(3))
        {
            <div class="col-xs-12 col-sm-4">
                <div class="panel panel-default">
                    <div class="panel-heading">                      
                        <a href="@eventItem">
                            <h4>@eventItem.Name</h4>
                        </a>
                    </div>
                    @{
                    var img = Umbraco.TypedMedia(eventItem.GetPropertyValue<int>("eventImage"));
                    if (img != null)
                    {
                <img class="img-responsive" src="@img.Url" />
                    }
                    }
                    <div class="panel-body">
                        <p>@(Umbraco.Truncate(eventItem.GetPropertyValue("eventLocation").ToString(), 200, true))</p>
                    </div>
                    <div class="panel-body">
                        <p>@(Umbraco.Truncate(eventItem.GetPropertyValue("eventDescription").ToString(), 200, true))</p>
                        <a href="@eventItem.Url" class="btn btn-default">Learn More</a>
                    </div>
                </div>
            </div>
      }
    }
</div>
<!-- Departments Section -->
@*<div class="row">
    <div class="col-lg-12">
        <h2 class="page-header">
            <a href="/departments">
                <i class="fa fa-fw fa-users"></i>Departments
            </a>
        </h2>
    </div>
    @{
        var departmentItems = Umbraco.TypedContentAtXPath("/root/home/branch/department");
        foreach (var departmentItem in departmentItems.Take(3))
        {
            <div class="col-xs-12 col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>@departmentItem.Name</h4>
                    </div>
                    @{
                        var img = Umbraco.TypedMedia(departmentItem.GetPropertyValue<int>("departmentImage"));
                        if (img != null)
                        {
                            <img class="img-responsive" src="@img.Url" />
                        }
                    }
                    <div class="panel-body">
                        <p>@(Umbraco.Truncate(departmentItem.GetPropertyValue("departmentLocation").ToString(), 200, true))</p>
                        <a href="@departmentItem.Url" class="btn btn-default">Learn More</a>
                    </div>
                </div>
            </div>
        }
    }
</div>*@
<!-- Partners Section -->
<div class="row">
    <div class="col-lg-12">
        <h2 class="page-header">
            <a href="/About/Partners">
                <i class="fa fa-fw fa-handshake-o"></i> Partners
            </a>
        </h2>        
    </div>
    @{
        var partnerItems = Umbraco.TypedContentAtXPath("/root/home/branch/partner");
        foreach (var partnerItem in partnerItems)
        {
            <div class="col-xs-6 col-sm-2 col-md-2 text-center">
                <a href="@partnerItem.Url">
                    @{
                        var img = Umbraco.TypedMedia(partnerItem.GetPropertyValue<int>("partnerLogo"));
                        if (img != null)
                        {
                            <img class="img-responsive img-thumbnail" src="@img.Url" alt="@partnerItem.Name" />
                        }
                    }
                    <span>@partnerItem.Name</span>
                </a>
            </div>
         }
    }
</div>