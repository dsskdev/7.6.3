@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{
    Layout = "Master.cshtml";
}

@* the fun starts here *@
@{Html.RenderPartial("Breadcrumb"); }
<div class="row">
    <div class="col-md-2">
        @{Html.RenderPartial("Navigation Parent");}
        @{Html.RenderPartial("Navigation Child Pages");}
    </div>
    <div class="col-md-10">
        <div class="row">
            <div class="col-xs-12">
                @{
                    var image = Model.Content.GetPropertyValue<IPublishedContent>("pageImage");
                    if (image != null)
                    {
                        <img class="img-responsive" src="@image.GetPropertyValue("umbracoFile")" />
                    }
                }
                @Umbraco.Field("pageRTE")
            </div>
        </div>
        <div class="row">
            @{string name = Model.Content.Name; }
            @returnHelper(name)
        </div>
    </div>
</div>

@helper returnHelper(string name)
{
string path = "//" + Model.Content.Name;
var events = @Umbraco.TypedContentAtXPath(path);
    <ul>
        @foreach (var e in events)
        {
           <li>@e.Name</li>
        }
    </ul>
}